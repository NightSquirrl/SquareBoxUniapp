<template>
	<uni-card class="login-card" @click="toLogin">
		<view>
			<uni-icons custom-prefix="iconfont" type="icon-wode" size="40" color="#ffffff"></uni-icons>
		</view>
		<text style="font-size: 20px; color: #ffffff">ç™»å½•</text>
		<view>
			<!-- æ™®é€šå¼¹çª— -->
			<uni-popup :safe-area="true" ref="loginPopupRef" background-color="#fff" @change="loginPopupChange">
				<view class="login-content">
					<view class="login-popup-title"><text class="text">æ¬¢è¿è·³è¿›æ–¹ç›’</text></view>
					<view class="login-form">
						<uni-easyinput trim="all" v-model="username" placeholder="ç”¨æˆ·å/æ‰‹æœºå·/é‚®ç®±ğŸ“®"></uni-easyinput>
						<uni-easyinput type="password" trim="all" v-model="password" placeholder="8ä½ä»¥ä¸Šé•¿åº¦"></uni-easyinput>
					</view>
				</view>
			</uni-popup>
		</view>
	</uni-card>
</template>

<script setup lang="ts">
import { ref } from 'vue';

const loginPopupRef = ref();
const username = ref('');
const password = ref('');

function toLogin() {
	loginPopupRef.value.open('bottom');
}

// æ˜¾ç¤ºç™»å½•å¼¹çª—éšè—ç™»å½•å¼¹çª—=>éšè—æ˜¾ç¤º tabbar
function loginPopupChange(e) {
	if (!e.show) {
		uni.showTabBar({
			animation: false
		});
	} else {
		uni.hideTabBar({
			animation: true
		});
	}
}
</script>

<style scoped lang="scss">
.login-card {
	background-color: $theme-color;
	height: 100px;
	opacity: 0.8;
	display: flex;
	justify-content: center;
	align-items: center;
}
.login-content {
	height: 80vh;
	padding: 20px;
	.login-popup-title {
		color: #000000;
		font-size: 20px;
		font-weight: bolder;
	}
	.login-form {
		margin-top: 20px;
		height: 120px;
		display: flex;
		flex-direction: column;
	}
}
</style>
